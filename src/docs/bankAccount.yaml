
/api/business/counterparties/update/{id}:
  patch:
    summary: Actualizar una cuenta bancaria por ID
    description: Permite actualizar cualquier campo de una cuenta bancaria registrada en Conduit Financial. El ID es obligatorio en el path, y se debe enviar al menos un campo en el cuerpo.
    tags:
      - cuentas bancarias
    security:
      - bearerAuth: []
    parameters:
      - name: id
        in: path
        required: true
        description: Identificador único de la cuenta bancaria
        schema:
          type: string
          example: ba_8fYq2ZBvL4V0HnspB1Vf5FJdKqN
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            description: Al menos un campo debe estar presente
            properties:
              bankName:
                type: string
                example: Chase Bank
              accountOwnerName:
                type: string
                example: Office Supplies Inc.
              currency:
                type: string
                example: USD
              accountNumber:
                type: string
                example: 98765432101234
              accountType:
                type: string
                example: checking
              rail:
                type: array
                items:
                  type: string
                example: ["ach"]
              address:
                type: object
                properties:
                  streetLine1:
                    type: string
                    example: 123 Main St
                  city:
                    type: string
                    example: New York
                  state:
                    type: string
                    example: NY
                  postalCode:
                    type: string
                    example: 10001
                  country:
                    type: string
                    example: USA
              iban:
                type: string
                nullable: true
                example: DE89 3704 0044 0532 0130 00
              pixKey:
                type: string
                nullable: true
                example: null
              swiftCode:
                type: string
                nullable: true
                example: null
              branchCode:
                type: string
                nullable: true
                example: null
              bankCode:
                type: string
                nullable: true
                example: null
              sortCode:
                type: string
                nullable: true
                example: null
    responses:
      200:
        description: Cuenta bancaria actualizada correctamente
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: true
                message:
                  type: string
                  example: Cuenta bancaria actualizada correctamente
                data:
                  type: object
      400:
        description: Error de validación (ID faltante o sin campos para actualizar)
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: false
                message:
                  type: string
                  example: Debes enviar al menos un campo para actualizar
      404:
        description: Cuenta bancaria no encontrada
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: false
                message:
                  type: string
                  example: No se encontró la cuenta bancaria con el ID proporcionado
      500:
        description: Error interno al actualizar la cuenta bancaria
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: false
                message:
                  type: string
                  example: Error al actualizar cuenta bancaria
                error:
                  type: string
                  example: Error retrieving bank accounts from Conduit API
